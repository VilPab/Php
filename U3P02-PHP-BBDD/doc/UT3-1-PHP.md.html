<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>UT3-1-PHP</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(56, 58, 66); background-color: rgb(250, 250, 250); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(94, 97, 110); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 111, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(94, 97, 110); border-color: rgb(209, 209, 210); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(209, 209, 210); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(209, 209, 210); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(0, 0, 0); background-color: rgb(234, 234, 235); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(240, 240, 240); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(0, 0, 0); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(209, 209, 210) rgb(209, 209, 210) rgb(193, 193, 194); border-image: initial; background-color: rgb(234, 234, 235); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.markdown-preview[data-use-github-style] pre { font-family: Consolas, "Lucida Console", "Courier New", monospace; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}
.line-number.bracket-matcher {
  background-color: #777;
}

.markdown-themeable-pdf-page-break {
  border-top: 2px dotted #0098ff;
}
.markdown-themeable-pdf-page-break span {
  opacity: .35;
}

pre.editor-colors {
  background-color: #fafafa;
  color: #383a42;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(56, 58, 66, 0.05);
}
pre.editor-colors .invisible {
  color: #383a42;
}
pre.editor-colors .cursor {
  border-left: 2px solid #526fff;
}
pre.editor-colors .selection .region {
  background-color: #e5e5e6;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #526fff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .indent-guide {
  color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 111, 255, 0.2);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #526fff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #9d9d9f;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #383a42;
  background-color: #f2f2f2;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #383a42;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(255, 20, 20, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #383a42;
}
.syntax--comment {
  color: #a0a1a7;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #a0a1a7;
}
.syntax--entity.syntax--name.syntax--type {
  color: #c18401;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #50a14f;
}
.syntax--keyword {
  color: #a626a4;
}
.syntax--keyword.syntax--control {
  color: #a626a4;
}
.syntax--keyword.syntax--operator {
  color: #383a42;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #4078f2;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #986801;
}
.syntax--storage {
  color: #a626a4;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #a626a4;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #383a42;
}
.syntax--constant {
  color: #986801;
}
.syntax--constant.syntax--variable {
  color: #986801;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #0184bc;
}
.syntax--constant.syntax--numeric {
  color: #986801;
}
.syntax--constant.syntax--other.syntax--color {
  color: #0184bc;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #0184bc;
}
.syntax--variable {
  color: #e45649;
}
.syntax--variable.syntax--interpolation {
  color: #ca1243;
}
.syntax--variable.syntax--parameter {
  color: #383a42;
}
.syntax--string {
  color: #50a14f;
}
.syntax--string.syntax--regexp {
  color: #0184bc;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #c18401;
}
.syntax--string.syntax--other.syntax--link {
  color: #e45649;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #a0a1a7;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #383a42;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #4078f2;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #c18401;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #a626a4;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #ca1243;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #383a42;
}
.syntax--support.syntax--class {
  color: #c18401;
}
.syntax--support.syntax--type {
  color: #0184bc;
}
.syntax--support.syntax--function {
  color: #0184bc;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #4078f2;
}
.syntax--entity.syntax--name.syntax--function {
  color: #4078f2;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #c18401;
}
.syntax--entity.syntax--name.syntax--section {
  color: #4078f2;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e45649;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #986801;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #4078f2;
}
.syntax--meta.syntax--class {
  color: #c18401;
}
.syntax--meta.syntax--class.syntax--body {
  color: #383a42;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #383a42;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e45649;
}
.syntax--meta.syntax--link {
  color: #986801;
}
.syntax--meta.syntax--require {
  color: #4078f2;
}
.syntax--meta.syntax--selector {
  color: #a626a4;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #383a42;
}
.syntax--meta.syntax--tag {
  color: #383a42;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #383a42;
}
.syntax--invalid.syntax--deprecated {
  color: #000000 !important;
  background-color: #f2a60d !important;
}
.syntax--invalid.syntax--illegal {
  color: white !important;
  background-color: #ff1414 !important;
}
.syntax--markup.syntax--bold {
  color: #986801;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #a626a4;
}
.syntax--markup.syntax--deleted {
  color: #e45649;
}
.syntax--markup.syntax--italic {
  color: #a626a4;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e45649;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #4078f2;
}
.syntax--markup.syntax--link {
  color: #0184bc;
}
.syntax--markup.syntax--inserted {
  color: #50a14f;
}
.syntax--markup.syntax--quote {
  color: #986801;
}
.syntax--markup.syntax--raw {
  color: #50a14f;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #a626a4;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #a626a4;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #a626a4;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #696c77;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #383a42;
}
.syntax--source.syntax--elixir .syntax--source.syntax--embedded.syntax--source {
  color: #383a42;
}
.syntax--source.syntax--elixir .syntax--constant.syntax--language,
.syntax--source.syntax--elixir .syntax--constant.syntax--numeric,
.syntax--source.syntax--elixir .syntax--constant.syntax--definition {
  color: #4078f2;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--definition,
.syntax--source.syntax--elixir .syntax--variable.syntax--anonymous {
  color: #a626a4;
}
.syntax--source.syntax--elixir .syntax--quoted {
  color: #50a14f;
}
.syntax--source.syntax--elixir .syntax--keyword.syntax--special-method,
.syntax--source.syntax--elixir .syntax--embedded.syntax--section,
.syntax--source.syntax--elixir .syntax--embedded.syntax--source.syntax--empty {
  color: #e45649;
}
.syntax--source.syntax--elixir .syntax--readwrite.syntax--module .syntax--punctuation {
  color: #e45649;
}
.syntax--source.syntax--elixir .syntax--regexp.syntax--section,
.syntax--source.syntax--elixir .syntax--regexp.syntax--string {
  color: #ca1243;
}
.syntax--source.syntax--elixir .syntax--separator,
.syntax--source.syntax--elixir .syntax--keyword.syntax--operator {
  color: #986801;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--constant {
  color: #c18401;
}
.syntax--source.syntax--elixir .syntax--array,
.syntax--source.syntax--elixir .syntax--scope,
.syntax--source.syntax--elixir .syntax--section {
  color: #696c77;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #4078f2;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #a626a4;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e45649;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #c18401;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #c18401;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #a626a4;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e45649;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #383a42;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #0184bc;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #a626a4;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e45649;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e45649;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #50a14f;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #0184bc;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #a626a4;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #986801;
}
</style>
  </head>
  <body class='markdown-preview' data-use-github-style><h6><em>Desarrollo Web en Entorno Servidor - Curso 2017/2018 - IES Leonardo Da Vinci - Alberto Ruiz</em></h6>
<h2>Tema 1 - Acceso a base de datos con PHP y Mysqli</h2>
<h4>Unidad 3 - Acceso a datos en PHP</h4>
<hr>
<h4>1. Introducción</h4>
<p>Para resultar útil, una aplicación web tiene que ser capaz de acceder a una fuente de datos tanto para leer como para escribir información. Posibles fuentes de datos:</p>
<ul>
<li>Bases de datos</li>
<li>Archivos de texto en claro</li>
<li>Archivos XML</li>
<li>Directorios LDAP</li>
<li>...</li>
</ul>
<p>En esta unidad estudiaremos cómo conectarnos a bases de datos desde aplicaciones web escritas en PHP. Utilizaremos para ello <a href="http://php.net/manual/es/book.mysqli.php">Mysqli</a>, la extensión Mysql mejorada (la <em>i</em> es de <em>improved</em>), compatible con MySQL y MariaDB.</p>
<p>Esta extensión ofrece funciones adicionales a las incluidas en el núcleo del lenguaje PHP, permitiendo gestionar conexiones con el motor de bases de datos MySQL. Dado que MySQL y MariaDB son virtualmente idénticos (al menos a dia de hoy), esta extensión servirá para nuestros proyectos.</p>
<h4>2. Preparación</h4>
<p>No es necesario instalar nada, puesto que por su popularidad Mysqli está disponible de forma nativa en cualquier instalación de PHP a partir de la versión 5.3.</p>
<p>Simplemente tendremos que definir variables con la URL del servidor y las credenciales del usuario que se utilizará para conectarse:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>localhost:3306</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>alumno</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>alumno</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Observa que el puerto por defecto para MySQL/MariaDB es el 3306, por eso no es obligatorio especificarlo: pero si estás trabajando desde otra máquina con redirección de puertos, puedes incluir el puerto en la URL.</p>
<p>Puedes incluir este código en un archivo PHP independiente, por ejemplo <code>conexion.php</code>, que posteriormente incluirás en todas las páginas que requieran conexión a la base de datos.
También puedes definir variables diferentes para distintos usuarios:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>localhost</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>alumno</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>alumno</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario_rw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>alumno_rw</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave_rw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>dwes</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>No entraremos a considerar aspectos de seguridad (sería conveniente almacenar <a href="http://php.net/manual/es/function.crypt.php">un hash de las contraseñas</a> en lugar de las propias contraseñas), pero sí debes ser consciente de que debido al funcionamiento de PHP el código fuente nunca sale del servidor: lo que sale es sólo la respuesta que generamos con las órdenes <em>echo</em>.</p>
<h4>3. Conexión al servidor</h4>
<p>El código de conexión al servidor debe incluirse una sola vez en cada archivo PHP que vaya a requerir acceso a bases de datos. El código consiste en la creación de un objeto de la clase <a href="http://php.net/manual/es/class.mysqli.php"><em>mysqli</em></a>:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--new syntax--php"><span>new</span></span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--builtin syntax--php"><span>mysqli</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>select_db</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>animales</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--if syntax--php"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;Error&nbsp;al&nbsp;establecer&nbsp;la&nbsp;conexión&nbsp;(</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>)&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_error</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>En realidad las dos primeras líneas pueden unirse en una si lo deseas:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--new syntax--php"><span>new</span></span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--builtin syntax--php"><span>mysqli</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>animales</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Es muy importante que solicites el uso de la codificación UTF-8 para la interacción con el servidor. A continuación se muestra el código completo:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--new syntax--php"><span>new</span></span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--builtin syntax--php"><span>mysqli</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>animales</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--if syntax--php"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;Error&nbsp;al&nbsp;establecer&nbsp;la&nbsp;conexión&nbsp;(</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>)&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_error</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>SET&nbsp;NAMES&nbsp;'UTF8'</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<h4>4. Desconexión del servidor</h4>
<p>Siempre que incluyas el código de conexión al servidor debes recordar incluir al final del archivo el código de desconexión:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--support syntax--function syntax--mysqli syntax--php"><span>mysqli_close</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<h4>5. Consultas de selección</h4>
<h5>5.1. Código completo de realización de una consulta</h5>
<p>El código completo incluyendo una consulta sería:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Paso&nbsp;1:&nbsp;establacer&nbsp;la&nbsp;conexión</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--new syntax--php"><span>new</span></span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--builtin syntax--php"><span>mysqli</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>servidor</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>usuario</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>clave</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--php"><span>,</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>animales</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--if syntax--php"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;Error&nbsp;al&nbsp;establecer&nbsp;la&nbsp;conexión&nbsp;(</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_errno</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>)&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>connect_error</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>SET&nbsp;NAMES&nbsp;'UTF8'</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Paso&nbsp;2:&nbsp;realizar&nbsp;una&nbsp;consulta</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--sql syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span class="syntax--source syntax--sql syntax--embedded syntax--php"><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>SELECT</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--star syntax--sql"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>FROM</span></span><span>&nbsp;animal&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>ORDER&nbsp;BY</span></span><span>&nbsp;nombre</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Paso&nbsp;3:&nbsp;procesar&nbsp;resultados</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--if syntax--php"><span>if</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>num_rows</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--php"><span>===</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--php"><span>0</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;No&nbsp;hay&nbsp;animales&nbsp;en&nbsp;la&nbsp;base&nbsp;de&nbsp;datos&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--else syntax--php"><span>else</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;table&gt;&lt;tr&gt;&lt;th&gt;Nombre&lt;/th&gt;&lt;th&gt;Especie&lt;/th&gt;&lt;/tr&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--while syntax--php"><span>while</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_assoc</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;tr&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--punctuation syntax--section syntax--array syntax--begin syntax--php"><span>[</span></span><span class="syntax--string syntax--unquoted syntax--index syntax--php"><span>nombre</span></span><span class="syntax--punctuation syntax--section syntax--array syntax--end syntax--php"><span>]</span></span><span>&lt;/td&gt;</span><span class="syntax--constant syntax--character syntax--escape syntax--php"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--punctuation syntax--section syntax--array syntax--begin syntax--php"><span>[</span></span><span class="syntax--string syntax--quoted syntax--single syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>'</span></span><span>especie</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>'</span></span></span><span class="syntax--punctuation syntax--section syntax--array syntax--end syntax--php"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;observa&nbsp;la&nbsp;diferencia&nbsp;en&nbsp;el&nbsp;uso&nbsp;de&nbsp;comillas</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/tr&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/table&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Paso&nbsp;4:&nbsp;liberación&nbsp;del&nbsp;resultado</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--support syntax--function syntax--mysqli syntax--php"><span>mysqli_free_result</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Paso&nbsp;5:&nbsp;desconexión</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--support syntax--function syntax--mysqli syntax--php"><span>mysqli_close</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Observa que las consultas se realizan invocando el método <em>query</em> del objeto <code>$conexion</code>. El resultado será un objeto de la clase <a href="http://php.net/manual/es/class.mysqli-result.php"><em>mysqli-result</em></a>. Esta clase incluye un atributo para indicar cuántas filas de resultado se han obtenido, lo que resulta muy útil para informar al usuario ante consultas que no devuleven resultados: esto lo hacemos al inicio del paso 3.</p>
<p>La forma de trabajar con el objeto de resultados es irle pidiendo una a una las filas en formato de array asociativo <em>nombre de campo - valor</em>. Esto puede hacerse de dos formas equivalentes:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_array</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--support syntax--constant syntax--ext syntax--php"><span>MYSQLI_ASSOC</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_assoc</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Los objetos resultado se recorren con un cursor que va avanzando por las posiciones de las filas. Cada vez que invocas el método <em>fetch</em> el cursor avanza una posición. El bloque <em>while</em> del paso 3 quizá lo entiendas mejor así:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_assoc</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--while syntax--php"><span>while</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--php"><span>!=</span></span><span class="syntax--constant syntax--language syntax--php"><span>null</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--php"><span class="syntax--punctuation syntax--definition syntax--comment syntax--php"><span>//</span></span><span>&nbsp;Mostrar&nbsp;resultados&nbsp;de&nbsp;la&nbsp;fila</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_assoc</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Es decir, intentamos leer una fila de resultado, y entramos en un bucle <em>mostrar fila -&gt; leer nueva fila</em> mientras siga habiendo resultados. La desventaja de este código es que la línea de lectura está repetida dos veces (una antes del bucle y otra dentro), por eso resulta más correcto el formato anterior. Otra alternativa sería hacer un bucle <em>for</em> utilizando como índice el atributo <em>num_rows</em>.</p>
<h5>5.2. Consultas que devuelven sólo un resultado</h5>
<p>Observa que a veces sólo me interesará un resultado, por ejemplo en consultas como <em>quiero saber el nombre del cuidador cuyo id es 12345</em>. En estos casos no es necesario usar un bloque <em>while</em>, sino que puedes obtener directamente la fila de resultado:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--sql syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span class="syntax--source syntax--sql syntax--embedded syntax--php"><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>SELECT</span></span><span>&nbsp;nombre&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>FROM</span></span><span>&nbsp;cuidador&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>WHERE</span></span><span>&nbsp;idCuidador</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--sql"><span>=</span></span><span class="syntax--constant syntax--numeric syntax--sql"><span>12345</span></span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--if syntax--php"><span>if</span></span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>num_rows</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--php"><span>===</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--php"><span>0</span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;No&nbsp;se&nbsp;encontró&nbsp;el&nbsp;cuidador&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--else syntax--php"><span>else</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_assoc</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;p&gt;El&nbsp;nombre&nbsp;del&nbsp;cuidador&nbsp;es&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>fila</span></span><span class="syntax--punctuation syntax--section syntax--array syntax--begin syntax--php"><span>[</span></span><span class="syntax--string syntax--quoted syntax--single syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>'</span></span><span>nombre</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>'</span></span></span><span class="syntax--punctuation syntax--section syntax--array syntax--end syntax--php"><span>]</span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/p&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div></pre>
<h5>5.3. Múltiples consultas en una misma conexión</h5>
<p>En el paso 4 liberamos la memoria del resultado de la consulta:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--support syntax--function syntax--mysqli syntax--php"><span>mysqli_free_result</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Esto no es obligatorio, pero es especialmente importante si después deseas realizar más consultas: así podrás reutilizar la variable <code>$resultado</code> para realizar una consulta diferente. Una alternativa es utilizar variables diferentes para cada consulta, como <code>$resultadoConsultaAnimales</code> o <code>$resultadoConsultaCuidadores</code></p>
<h5>5.4. Asociación de una fila de resultado a un objeto</h5>
<p>Una alternativa a <em>fetch_array</em> y <em>fetch_assoc</em> es <a href="http://php.net/manual/es/mysqli-result.fetch-object.php"><em>fetch_object</em></a>, que intentará utilizar los campos de la fila de resultado para dar valores a los atributos de un nuevo objeto que representará el resultado:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--php"><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--sql syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span class="syntax--source syntax--sql syntax--embedded syntax--php"><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>SELECT</span></span><span>&nbsp;nombre,&nbsp;chip,&nbsp;especie,&nbsp;imagen&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>FROM</span></span><span>&nbsp;animal&nbsp;</span><span class="syntax--keyword syntax--other syntax--DML syntax--sql"><span>ORDER&nbsp;BY</span></span><span>&nbsp;nombre</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--keyword syntax--control syntax--while syntax--php"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>animal</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--php"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>resultado</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>fetch_object</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>'</span></span><span>Animal</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>'</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--curly syntax--php"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;tr&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>animal</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>getChip</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/td&gt;</span><span class="syntax--constant syntax--character syntax--escape syntax--php"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>animal</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>getNombre</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/td&gt;</span><span class="syntax--constant syntax--character syntax--escape syntax--php"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>animal</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>getEspecie</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/td&gt;</span><span class="syntax--constant syntax--character syntax--escape syntax--php"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;td&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>animal</span></span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>getImagen</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/td&gt;</span><span class="syntax--constant syntax--character syntax--escape syntax--php"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/tr&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--curly syntax--php"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre>
<p>Los requisitos para que este código funcione son:</p>
<ul>
<li>Debe existir una clase Animal</li>
<li>La clase animal debe implementar los métodos <em>get</em> para todos los atributos deseados</li>
<li>Hay que incluir el código de la clase Animal en la página en la que se quiera realizar la asociación: <code>&lt;?php include 'Animal.php';?&gt;</code></li>
</ul>
<p>Aspectos que debes tener en cuenta sobre esta funcionalidad:</p>
<ul>
<li>Si incluyes constructor en la clase Animal tu código falla. El motivo es que en ese caso hay que pasarle como parámetro un array con los valores que requiere el constructor. Si lo deseas puedes probarlo, pero por simplicidad es mejor que no incluyas constructor en tu clase.</li>
<li>Las asociaciones entre campo y atributo se hacen por nombre, y no por el orden en que queden dispuestas en el SELECT</li>
<li>Da igual si nuestra clase Animal carece del campo "nombre": el objeto generado sí lo tendrá. Puedes comprobarlo usando la función <code>print_r</code> para mostrar el objeto.</li>
<li>Si el nombre del campo y el atributo no coinciden, puedes solucionarlo con el operador AS de SQL:<ol>
<li>Cambia el nombre del atributo "especie" por "tipo" en la clase Animal</li>
<li>Comprueba que al imprimir los datos del objeto, no aparece la especia</li>
<li>Modifica ahora la consulta: <code>SELECT chip, nombre, especie AS tipo, imagen FROM animal ORDER BY nombre</code></li>
<li>Comprueba que ahora sí aparece</li>
</ol>
</li>
<li>Si no especificamos la clase dentro de la llamada a <code>fetch_object</code>, se creará un objeto de una clase genérica <code>stdClass</code>. El ojbeto funcionará perfectamente, pero no dispondremos de ningún método (ni siquiera el <code>__toString</code>). Aún así podrás imprimirlo con <code>print_r</code>,  </li>
</ul>
<h4>6. Consultas de actualización</h4>
<p>Las consultas de modificación son aquellas que actualizan los datos de una tabla o modifican la estructura de la misma.</p>
<p>En estos casos la consulta SQL no devuelve una tabla de resultados, por lo que ya no necesitaremos el objeto <em>mysqli-result</em>. Simplemente estaremos atentos a la posibilidad de que suceda algún error:</p>
<pre class="editor-colors lang-php"><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--begin syntax--php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span>&nbsp;</span><span class="syntax--meta syntax--method-call syntax--php"><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--php"><span>query</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--php"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>DROP&nbsp;TABLE&nbsp;animal</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--php"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--source syntax--php"><span class="syntax--support syntax--function syntax--construct syntax--output syntax--php"><span>echo</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;h3&nbsp;style='color:red'&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--php"><span class="syntax--punctuation syntax--definition syntax--variable syntax--php"><span>$</span></span><span>conexion</span></span><span class="syntax--keyword syntax--operator syntax--class syntax--php"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--property syntax--php"><span>error</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--string syntax--php"><span>.</span></span><span class="syntax--string syntax--quoted syntax--double syntax--php"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--php"><span>"</span></span><span>&lt;/h3&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--php"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--expression syntax--php"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--text syntax--html syntax--php"><span class="syntax--meta syntax--embedded syntax--block syntax--php"><span class="syntax--punctuation syntax--section syntax--embedded syntax--end syntax--php"><span class="syntax--source syntax--php"><span>?</span></span><span>&gt;</span></span></span><span class="syntax--punctuation syntax--whitespace syntax--embedded syntax--trailing syntax--php"><span>&nbsp;</span></span></span></div></pre></body>
</html>
